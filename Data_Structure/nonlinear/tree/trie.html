<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>트라이</title>

    <link rel="stylesheet" href="../../assets/css/style.css">

    <!-- 코드 하이라이트 -->
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</head>

<body data-page-id="trie">

<header class="header">
    <div class="header-inner">
        <div class="breadcrumb"></div>
        <h1 class="page-title">트라이</h1>
    </div>
</header>

<main class="content">

<!-- ================= 목차 ================= -->
<section class="toc">
    <h2>목차</h2>
    <ul>
        <li>
            <a href="#definition">
                1. 트라이 <span class="toc-subtitle">Trie</span>
            </a>
        </li>
        <li><a href="#structure">2. 트라이의 구조</a></li>
        <li><a href="#pros-cons">3. 트라이의 장단점</a></li>
        <li><a href="#code">4. 구현 예시 코드</a></li>
        <li><a href="#experience">5. 체험존</a></li>
    </ul>
</section>

<!-- ================= 개념 ================= -->
<section id="definition">
    <h2 class="section-title">
        트라이<span class="section-subtitle">Trie</span>
    </h2>

    <p>
        트라이는 문자열을 효율적으로 저장하고 탐색하기 위한
        <strong>트리(Tree) 기반 자료구조</strong>입니다.
    </p>

    <p>
        문자열을 통째로 저장하지 않고,
        <strong>문자 하나하나를 노드로 분리</strong>하여
        공통 접두사를 공유하는 방식으로 저장합니다.
    </p>

    <ul>
        <li>문자열 검색에 특화된 자료구조</li>
        <li>공통 접두사를 효율적으로 관리</li>
        <li>자동 완성, 사전, 문자열 필터링 등에 사용</li>
    </ul>
</section>

<!-- ================= 구조 ================= -->
<section id="structure">
    <h2>트라이의 구조</h2>

    <p>
        트라이는 루트 노드에서 시작하여,
        각 노드가 <strong>하나의 문자</strong>를 나타내는 트리 구조입니다.
    </p>

    <img src="../../assets/images/trie-structure.png"
             alt="트리 기본 구조"
             class="structure-img">

    <ul>
        <li>루트 노드는 문자 없음</li>
        <li>간선은 다음 문자로 이동</li>
        <li>단어의 끝을 표시하는 플래그 존재</li>
    </ul>

    <p>
        예를 들어 <strong>cat, can</strong>을 저장하면
        <strong>ca</strong>까지의 경로를 공유하게 됩니다.
    </p>

    <p>
        이 구조 덕분에 문자열 길이에만 비례하는
        빠른 탐색이 가능합니다.
    </p>
</section>

<!-- ================= 장단점 ================= -->
<section id="pros-cons">
    <h2>트라이의 장단점</h2>

    <div class="two-column">
        <div>
            <h3>장점</h3>
            <ul>
                <li>문자열 탐색 시간 O(L)</li>
                <li>접두사 탐색에 매우 효율적</li>
                <li>자동 완성 구현에 적합</li>
            </ul>
        </div>

        <div>
            <h3>단점</h3>
            <ul>
                <li>노드 수가 많아 메모리 사용량 큼</li>
                <li>구현이 비교적 복잡</li>
                <li>문자 집합이 클수록 비효율적</li>
            </ul>
        </div>
    </div>
</section>

<!-- ================= 코드 ================= -->
<section id="code">
    <h2>구현 예시 코드 (Python)</h2>

<pre><code class="language-python">
class TrieNode:
    def __init__(self):
        self.children = {}
        self.is_end = False


class Trie:
    def __init__(self):
        self.root = TrieNode()

    def insert(self, word):
        node = self.root
        for ch in word:
            if ch not in node.children:
                node.children[ch] = TrieNode()
            node = node.children[ch]
        node.is_end = True

    def search(self, word):
        node = self.root
        for ch in word:
            if ch not in node.children:
                return False
            node = node.children[ch]
        return node.is_end

    def starts_with(self, prefix):
        node = self.root
        for ch in prefix:
            if ch not in node.children:
                return False
            node = node.children[ch]
        return True
</code></pre>

<!-- 삽입 -->
<h3><br>삽입</h3>

<pre><code class="language-python">
def insert(self, word):
    node = self.root
    for ch in word:
        if ch not in node.children:
            node.children[ch] = TrieNode()
        node = node.children[ch]
    node.is_end = True
</code></pre>

<p>
    삽입은 트라이에 <strong>새로운 단어를 추가</strong>하는 연산입니다.<br>
    문자열 길이를 L이라 할 때,
    각 문자를 한 번씩만 처리하므로
    시간 복잡도는 <strong>O(L)</strong>입니다.
</p>

<!-- 탐색 -->
<h3><br>탐색</h3>

<pre><code class="language-python">
def search(self, word):
        node = self.root
        for ch in word:
            if ch not in node.children:
                return False
            node = node.children[ch]
        return node.is_end
</code></pre>

<p>
    탐색은 해당 단어가 <strong>트라이 내부에 존재</strong>하는지 확인하는 연산입니다.<br>
    문자열의 각 문자를 따라 내려가기 때문에
    탐색은 <strong>O(L)</strong>의 시간 복잡도를 가집니다.
</p>

<!-- 접두사 -->
<h3><br>접두사 탐색</h3>

<pre><code class="language-python">
def starts_with(self, prefix):
        node = self.root
        for ch in prefix:
            if ch not in node.children:
                return False
            node = node.children[ch]
        return True
</code></pre>

<p>
    접두사 탐색은 <strong>접두사(단어의 앞부분)를 갖는 단어들을 찾는</strong> 연산입니다.<br>
    접두사의 길이 만큼 탐색을 진행하여 그 노드의 자식을 불러오므로 시간 복잡도는 <strong>O(L)</strong>입니다.
</p>
</section>

<!-- ================= 체험존 ================= -->
<section id="experience">
    <h2 class="section-title">체험존</h2>

    <div class="two-column">

        <!-- 시각화 영역 -->
        <div>
            <div class="array-container" id="trieView" style="overflow:hidden;">
                <svg id="trieSvg" width="100%" height="520"></svg>
            </div>
        </div>

        <!-- 컨트롤 영역 -->
        <div style="text-align:center;">
            <input id="inputValue" type="text" placeholder="단어 입력">

            <div class="buttons">
                <button onclick="insertWord()">추가</button>
                <button onclick="deleteWord()">삭제</button>
            </div>

            <div class="buttons">
                <button onclick="searchWord()">탐색</button>
                <button onclick="prefixSearch()">접두사</button>
            </div>

            <div class="buttons">
                <button onclick="undo()">뒤로가기</button>
            </div>

            <div id="result">결과 출력</div>
        </div>

    </div>
</section>

</main>

<!-- breadcrumb -->
<script src="../../assets/js/siteTree.js"></script>
<script src="../../assets/js/breadcrumb.js"></script>
<script>
    const pageId = "trie";
    renderBreadcrumb(pageId);
</script>

<script type="module" src="../../assets/js/trieExperience.js"></script>

</body>
</html>
